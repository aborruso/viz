<!DOCTYPE html>
<html>

<head>
	<title>COVID-19 Dashboard</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Fonts -->
	<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:300,400' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
	<!-- CSS Libs -->
	<link rel="stylesheet" type="text/css" href="../lib/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/animate.min.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/bootstrap-switch.min.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/checkbox3.min.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/jquery.dataTables.min.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/dataTables.bootstrap.css">
	<link rel="stylesheet" type="text/css" href="../lib/css/select2.min.css">
	<!-- CSS App -->
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<link rel="stylesheet" type="text/css" href="../css/themes/flat-blue.css">
</head>

<body class="flat-blue">
	<div class="app-container">
		<div class="row content-container">
			<nav class="navbar navbar-default navbar-fixed-top navbar-top">
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-expand-toggle">
							<i class="fa fa-bars icon"></i>
						</button>
						<ol class="breadcrumb navbar-breadcrumb">
							<li class="active">&nbsp;&nbsp;&nbsp;2019 Novel Coronavirus COVID-19 (2019-nCoV) Situazione nel mondo ed in Italia</li>
						</ol>
						<button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
							<i class="fa fa-th icon"></i>
						</button>
					</div>
				</div>
			</nav>

			<div id="menu"></div>

			<div id="map_div" style="padding-top:62px" background="#f8f8f8" onclick="event.stopPropagation();return false;">
			</div>

			<div class="container">
				<a class="btn btn-default btn-lg app-btn active" role="button" href="javascript:mainMap.loadProject('../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_actual_dynamic_2level_light_real_size.json','keepview')">
					casi</a>
				<a class="btn btn-default btn-lg app-btn" role="button" href="javascript:mainMap.loadProject('../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_actual_h24_new.json','keepview')">
					casi nuovi 24H</a>
				<a class="btn btn-default btn-lg app-btn" role="button" href="javascript:mainMap.loadProject('../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_new_28_days_curve_light.json','keepview')">
					casi nuovi ultimi 28 giorni</a>
				<a class="btn btn-default btn-lg app-btn" role="button" href="javascript:mainMap.loadProject('../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_sum_2_28_days_curve_light.json','keepview')">
					casi/guariti ultimi 28 days</a>
				&nbsp;&nbsp;evoluzione temporale:&nbsp;
				<a class="btn btn-default btn-lg app-btn" role="button" href="javascript:mainMap.loadProject('../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_clip_light.json','keepview')">
					casi</a>
				<a class="btn btn-default btn-lg app-btn" role="button" href="javascript:mainMap.loadProject('../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_clip_light_diff.json','keepview')">
					nuovi casi</a>


			</div>

			<!-- Banner 
            <div class="jumbotron app-header">
                <div class="container">
                     <p class="text-center">
						<a class="btn btn-primary btn-lg app-btn" href="#aria" role="button">Aria</a>
						<a class="btn btn-primary btn-lg app-btn" href="#rifiuti" role="button">Rifiuti</a>
						<a class="btn btn-primary btn-lg app-btn" href="#eventi" role="button">Mappe</a>
					</p>
                </div>
            </div>  
			-->

			<!-- Main Content -->
			<div class="container-fluid">
				<div class="side-body padding-top">

					<!-- air quality cards

						empty cards to show actual air quality and trend (past)

						will be filled by javascript when data query returned with data

						for the actual value we define a data-path
						the trend will be from trhe same source

				   -->

					<h1>Situzione nelle Regioni d'Italia</h1>
					<div class="row">
						<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
							<a href="#">
								<div class="card ">
									<div class="card-header">
										<div class="card-title">
											<div class="title"><i class="fa fa-comments-o"></i> casi, ricoverati e guariti &nbsp;
												<a href="javascript:console.log(ixmaps);ixmaps.changeThemeStyle('map',null,'opacity:0.7','factor');"><i class="fa fa-minus-square-o" style="color:white"></i></a>
												<i class="fa fa-adjust" style="color:white"></i>
												<a href="javascript:console.log(ixmaps);ixmaps.changeThemeStyle('map',null,'opacity:1.3','factor');"><i class="fa fa-plus-square-o" style="color:white"></i></a>
											</div>
										</div>
										<div class="clear-both"></div>
									</div>
									<div class="card-body no-padding">
										<iframe id="map1" width="100%" height="550" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="../../../ixmaps/ui/dispatch.htm?ui=embed&basemap=ll&align=left&legend=1&name=map1&project=../../projects/COVID-19/ixmaps_project_CPM_DCP_Reg2019_COVID_Situazione_Donut.json"></iframe>
									</div>
								</div>
						</div>
						<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
							<div class="card">
								<div class="card-header">
									<div class="card-title">
										<span class="title"><i class="fa fa-comments-o"></i> nuovi casi / giorno per giorno</span>
										<span class="title" style="margin-left:1em"><a href="http://public.ixmaps.com.s3-website-eu-west-1.amazonaws.com/stage/app/Generic/lecce_desc_trac_black.html" target="_blank"><i class="fa fa-external-link" style="color:white"></i></a></span>

									</div>
								</div>
								<div class="clear-both"></div>
							</div>
							<div class="card-body no-padding">
								<iframe id="map2" width="100%" height="550" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="../../../ixmaps/ui/dispatch.htm?ui=embed&basemap=ll&align=left&legend=1&name=map2&project=../../projects/COVID-19/ixmaps_project_CPM_DCP_Reg2019_COVID_sum_curves.json"></iframe>
							</div>
						</div>
					</div>

					<h1>Situzione nelle Province d'Italia</h1>
					<div class="row">
						<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
							<a href="#">
								<div class="card ">
									<div class="card-header">
										<div class="card-title">
											<div class="title"><i class="fa fa-comments-o"></i> casi cumulativi &nbsp;
												<a href="javascript:console.log(ixmaps);ixmaps.changeThemeStyle('map',null,'opacity:0.7','factor');"><i class="fa fa-minus-square-o" style="color:white"></i></a>
												<i class="fa fa-adjust" style="color:white"></i>
												<a href="javascript:console.log(ixmaps);ixmaps.changeThemeStyle('map',null,'opacity:1.3','factor');"><i class="fa fa-plus-square-o" style="color:white"></i></a>
											</div>
										</div>
										<div class="clear-both"></div>
									</div>
									<div class="card-body no-padding">
										<iframe id="map3" width="100%" height="550" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="../../../ixmaps/ui/dispatch.htm?ui=embed&basemap=ll&align=left&legend=1&name=map3&project=https://gjrichter.github.io/viz/COVID-19/projects/ixmaps_project_CPM_DCP_Prov2019_COVID_shape_numbers_curve_diff_diff.json"></iframe>
									</div>
								</div>
						</div>
						<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
							<a href="#">
								<div class="card ">
									<div class="card-header">
										<div class="card-title">
											<div class="title"><i class="fa fa-comments-o"></i> nuovi casi per giorno &nbsp;
												<a href="javascript:console.log(ixmaps);ixmaps.changeThemeStyle('map',null,'opacity:0.7','factor');"><i class="fa fa-minus-square-o" style="color:white"></i></a>
												<i class="fa fa-adjust" style="color:white"></i>
												<a href="javascript:console.log(ixmaps);ixmaps.changeThemeStyle('map',null,'opacity:1.3','factor');"><i class="fa fa-plus-square-o" style="color:white"></i></a>
											</div>
										</div>
										<div class="clear-both"></div>
									</div>
									<div class="card-body no-padding">
										<iframe id="map4" width="100%" height="550" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="../../../ixmaps/ui/dispatch.htm?ui=embed&basemap=ll&align=left&legend=1&name=map4&project=https://gjrichter.github.io/viz/COVID-19/projects/ixmaps_project_CPM_DCP_Prov2019_COVID_shape_numbers_curve_differential.json"></iframe>
									</div>
								</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	</div>
	<footer class="app-footer">
		<div class="wrapper">
			<span class="pull-right">2.1 <a href="#"><i class="fa fa-long-arrow-up"></i></a></span> Â© 2015 Copyright.
		</div>
	</footer>
	<div>
		<!-- Javascript Libs -->
		<script type="text/javascript" src="../lib/js/jquery.min.js"></script>
		<script type="text/javascript" src="../lib/js/bootstrap.bundle.min.js"></script>

		<script type="text/javascript" src="../lib/js/Chart.bundle.js"></script>

		<script type="text/javascript" src="../lib/js/bootstrap-switch.min.js"></script>
		<script type="text/javascript" src="../lib/js/jquery.matchHeight-min.js"></script>
		<script type="text/javascript" src="../lib/js/jquery.dataTables.min.js"></script>
		<script type="text/javascript" src="../lib/js/dataTables.bootstrap.min.js"></script>
		<script type="text/javascript" src="../lib/js/select2.full.min.js"></script>
		<script type="text/javascript" src="../lib/js/ace/ace.js"></script>
		<script type="text/javascript" src="../lib/js/ace/mode-html.js"></script>
		<script type="text/javascript" src="../lib/js/ace/theme-github.js"></script>

		<script type="text/javascript" src="../../../ixmaps/ui/htmlgui_api.js"></script>

		<!-- Javascript -->
		<script>
			// ---------------------------------------------------------------------------------------
			// infuse HTML snippets
			// ---------------------------------------------------------------------------------------

			infuseHTML = function(szElement, szUrl, szDiv) {

				szStoryRoot = "";

				if (typeof($("#" + szElement)[0]) == "undefined") {
					return;
				}
				$("#" + szElement).load(szUrl + ' #' + szDiv, function(response, status, xhr) {
					if (status == "error") {
						var msg = "Sorry but there was an error: ";
						$("#story").html(msg + xhr.status + "<br><br> '" + szStoryRoot + szUrl + "'<br><br> " + xhr.statusText);
					}
				});
			};

			infuseHTML("menu", "./menu.html", "menu");


			var theme_luce_consumo_colore_aggregate_text = {
				"layer": "generic",
				"field": "TIPO",
				"field100": "",
				"style": {
					"type": "TEXTONLY|CHART|BUBBLE|EXACT|VALUES|AGGREGATE|SUM|CLEAR|RELOCATE",
					"colorscheme": "user",
					"fillopacity": "0.41843562195600015",
					"shadow": "false",
					"dbtable": "themeDataObj_Luce",
					"dbtableUrl": "../../data/Pali_18_02.csv",
					"dbtableType": "csv",
					"dbtableExt": "../../app/Luce/stories/Master/databroker.js",
					"datacache": "true",
					"itemfield": "Y|X",
					"lookupfield": "Y|X",
					"units": "w",
					"normalsizevalue": "100000",
					"scale": "2",
					"valuefield": "CONSUMO",
					"sizefield": "CONSUMO",
					"titlefield": "indirizzo",
					"gridwidth": "363.89274277376114",
					"gridwidthpx": "50",
					"aggregation": "mean",
					"evidence": "isolate",
					"title": "Illuminazione Pubblica - Consumo"
				}
			};

			$(document).ready(function() {

				mainMap = null;

				ixmaps.embedMap("map_div", {
						"mapService": "ll",
						"mapType": "CartoDB - Positron",
						"width": "100%",
						//				"height":	(window.innerHeight-50) + "px",
						"height": (window.innerHeight * 0.66) + "px",
						"legend": true,
						"silent": true,
						"align": "left",
						"autoSwitchInfo": true,
						"search": "usa",
						"name": "map"
					},
					function(map) {
						mainMap = map;
						map.setOptions({
								"autoSwitchInfo": true,
								"panHidden": false,
								"syncMap": false
							})
							.loadProject("../../app/Minimalist/ixmaps_project_JHU_CCSEconfirmed_actual_dynamic_2level_light_real_size.json");
					}
				);

				$('a').on('click', event => {
					$('a').removeClass('active');
					$(event.target).addClass('active');
				});

			});

		</script>


		<script type="text/javascript" src="../lib/js/plugins/papaparse.js"></script>
		<script type="text/javascript" src="../js/app.js"></script>

		<script type="text/javascript" src="../js/index.js"></script>

		<script type="text/javascript" src="http://localhost/ixmaps/deploy/rc-exp/ixmaps/ui/js/htmlgui_api.js"></script>
</body>

</html>
