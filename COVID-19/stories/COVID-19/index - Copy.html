<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta content="en-us" http-equiv="Content-Language">

	<title>Airbnb listings venice</title>
	<meta name="author" content="Guenter Richter" />
	<meta name="description" content="ixmaps iteractive map to explore airbnb listigs in venice,italy" />
	<meta name="keywords" content="ixmaps,airbnb,inside,listings,map,char,interactice,SVG" />
	<meta name="Resource-type" content="Document" />

	<!-- BOOTSTRAP CORE STYLE CSS -->
	<link href="assets/css/bootstrap.css" rel="stylesheet" />
	<!-- GOOGLE FONT -->
	<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Raleway:400,300,700' rel='stylesheet' type='text/css'>


	<link href="assets/css/icomoon.css" rel="stylesheet" />
	<link href="assets/css/main.css" rel="stylesheet" />
	<link href="./inline_legend.css" rel="stylesheet" />

	<link rel="stylesheet" type="text/css" href="assets/css/jquery.fullPage.css" />
	<style type="text/css">
		.container {
			margin-left: 1em;
		}

		/* Overwriting fullPage.js tooltip color
		* --------------------------------------- */

		.fp-tooltip {
			color: #AAA;
		}

		#fp-nav span,
		.fp-slidesNav span {
			border-color: #AAA;
		}

		#fp-nav li .active span,
		.fp-slidesNav .active span {
			background: #AAA;
		}

		.shareIcon {
			font-size: 32px;
		}

		#contact a {
			text-decoration: underline;
		}
		
		body {
		  -webkit-user-select: none;  /* Chrome all / Safari all */
		  -moz-user-select: none;     /* Firefox all */
		  -ms-user-select: none;      /* IE 10+ */
		  user-select: none;          /* Likely future */      
		}

	</style>

	<!--[if IE]>
		<script type="text/javascript">
			 var console = { log: function() {} };
		</script>
	<![endif]-->

</head>

<body style="background:none">

	<div id="fullpage" style="margin-top:50px;font-weight:500">

		<div class="section">

			<!-- situazione oggi -->

			<div class="slide container" style="color:#DEA314">
				<div class="intro down">
					<h3 class="title"><b><br>COVID-19</b> Casi <b>confermati</b> ad oggi</h3>
					<h4>scala:
						<a href="javascript:ixmaps.changeThemeStyle('actual','type:SIZELOG','remove')" title='change scale'>quadratica</a> / <a href="javascript:ixmaps.changeThemeStyle('actual','type:SIZELOG','add')" title='change scale'>logaritmica</a></h4>
					<h4>data: 2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository by <a href='https://github.com/CSSEGISandData/COVID-19' target='_blank'>Johns Hopkins CSSE</a></h4>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("../../projects/COVID-19/ixmaps_project_JHU_CCSEconfirmed_actual_dynamic_2level_light_real_size.json","keepView");' style='display:none'>dummy</a><br>
					</p>
					<p></p>
					<p>o <b>scrolla giù</b> per altri visualizzazioni</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- nuovi casi 24 ore -->

			<div class="slide container" style="color:#DEA314">
				<div class="intro up down">
					<h3 class="title"><b><br>COVID-19</b> nuovi casi <b>24 ore</b></h3>
					<h4>data: 2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository by <a href='https://github.com/CSSEGISandData/COVID-19' target='_blank'>Johns Hopkins CSSE</a></h4>
					<p></p>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("../../projects/COVID-19/ixmaps_project_JHU_CCSEconfirmed_actual_h24_new.json","keepView");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- nuovi casi 28 giorni -->

			<div class="slide container" style="color:#DEA314">
				<div class="intro up down">
					<h3 class="title"><b><br>COVID-19</b> nuovi casi 28 giorni</h3>
					<h4>scala:
						<a href="javascript:ixmaps.changeThemeStyle('actual','type:LOG','add')" title='change scale'>logaritmica</a> / <a href="javascript:ixmaps.changeThemeStyle('actual','type:LOG','remove')" title='change scale'>lineare</a></h4>
					<h4>data: 2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository by <a href='https://github.com/CSSEGISandData/COVID-19' target='_blank'>Johns Hopkins CSSE</a></h4>
					<p></p>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("../../projects/COVID-19/ixmaps_project_JHU_CCSEconfirmed_new_28_days_curve_light.json","keepView");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- confirmati 28 giorni -->

			<div class="slide container" style="color:#DEA314">
				<div class="intro up down">
					<h3 class="title"><b><br>COVID-19</b> nuovi casi 28 giorni</h3>
					<h4>scala:
						<a href="javascript:ixmaps.changeThemeStyle('actual','type:LOG','add')" title='change scale'>logaritmica</a> / <a href="javascript:ixmaps.changeThemeStyle('actual','type:LOG','remove')" title='change scale'>lineare</a></h4>
					<h4>data: 2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository by <a href='https://github.com/CSSEGISandData/COVID-19' target='_blank'>Johns Hopkins CSSE</a></h4>
					<p></p>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("../../projects/COVID-19/ixmaps_project_JHU_CCSEconfirmed_sum_28_days_curve_light.json","keepView");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section">

			<!-- nuovi casi 28 giorni startburst -->

			<div class="slide container" style="color:#DEA314">
				<div class="intro up down">.
					<h3 class="title"><b><br>COVID-19</b> nuovi casi 28 giorni</h3>
					<h4 style="color:#006688">Una visualizazione del sviluppo temporale dei nuovi casi per le unltimi 28 ore</h4>
					<h4 style="color:#006688">Ogni grafico rappresenta i nuovi casi degli ultimi 28 giorni in senso orario.</h4>
					<h4 style="color:#006688">Il <span style="color:#E48586">rosso</span> evidenzia giorni più recenti</h4>
					<p>
						<a class="theme button" href='javascript:mymap.loadProject("../../projects/COVID-19/ixmaps_project_JHU_CCSEconfirmed_new_28_days_rays_light.json","keepView");' style='display:none'>dummy</a><br>
					</p>
				</div>
			</div>

		</div>

		<div class="section  intro up" style="color:#006688">
			<div class="container" id="contact" name="contact">
				<div class="row">
					<div class="col-lg-8 blog-content">

						<h3><br>Attribuzioni</h3>
						<p>Fonti:</p>
						<p>Scala mondiale:<br>
							2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository by <a href='https://github.com/CSSEGISandData/COVID-19' target='_blank'>Johns Hopkins CSSE</a></p>
						<p>Province d'Italia:<br>
							<a href='http://unwfp.maps.arcgis.com/apps/opsdashboard/index.html#/4f74fc222b7041cd9cc3c52e62af1b8c' target='_blank'>FOA COVID-19 map</a></p>
						<br>
						<p>Visualization:<br>
							created by <a href="http://ixmaps.com">iXmaps</a> - CC BY</p>
						<p> <span class="icon icon-envelop"></span> <a href="#"> info@ixmaps.com</a> <br />
							<span class="icon icon-twitter"></span> <a href="#"> @grichter </a> <br />
						</p>
						<br>
						<p>credits</p>
						<p>
							<a href="http://alvarotrigo.com/fullPage/">alvarotrigo.com</a> - for the scrolling
							<br><a href="http://icomoon.io">icomoon.io</a> - for the nice icons
						</p>

					</div>
				</div><!-- row -->

			</div><!-- container -->
		</div>

	</div>

	<div id="header" style="position: fixed;top:0;left:0px;width:90%;height:40px;">
		<div class="container" style="margin-top:11px">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2">
					<div class="header" aria-hidden="true">
						<div class="linkSocialContainer" style="float:left">
							<span class="linkContainer"></span>
							<span class="shareBtns" style="font-size:24px">
								<a href="javascript:ixmaps.popupShare()">
									<i class="shareIcon blackHover share_bitly icon-share" title="Share a short link" tabindex="-1"></i></a>
								<a data-toggle="modal" href="./filter.html" data-target="#modal-dialog-1" class="smoothScroll">
									<i class="shareIcon blackHover share_bitly icon-filter" title="Filter" tabindex="-1" style="margin-left:0.2em"></i></a>
								<a data-toggle="modal" href="./about.html" data-target="#modal-dialog-2" class="smoothScroll">
									<i class="shareIcon blackHover share_bitly icon-info" title="Info" tabindex="-1" style="margin-left:0.2em"></i></a>
							</span>
						</div>
						<div class="linkSocialContainer" style="float:right;margin-right:-2.5em;margin-top:0.4em;">
							<span class="linkContainer"></span <span class="shareBtns" style="font-size:18px">
							<a href="javascript:ixmaps.fullScreen()">
								<i class="shareIcon blackHover share_bitly icon-close" title="Info" tabindex="-1" style="vertical-align:3px;margin-right:0.5em"></i></a>
							</span>
						</div>
						<div class="logoContainer" style="float:right;margin-right:10px">
							<table>
								<tr>
									<td class="logoWrapper">
										<a class="logoLink" target="_blank" tabindex="-1">
											<img class="logoImg" src="./resources/images/ixmaps_logo_grey_transparent.png" height="30px" style="opacity:0.5;padding-top:5px" />
										</a>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- ==== MODAL DIALOG ==== -->
	<div id="modal-dialog-1" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="background:white;z-index:9999">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				...
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
	<div id="modal-dialog-2" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="background:white;z-index:9999">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				...
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="assets/plugins/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="assets/js/main.js"></script>
	<script type="text/javascript" src="assets/js/masonry.pkgd.min.js"></script>
	<script type="text/javascript" src="assets/js/imagesloaded.js"></script>
	<script type="text/javascript" src="assets/js/classie.js"></script>
	<script type="text/javascript" src="assets/js/AnimOnScroll.js"></script>

	<script type="text/javascript" src="assets/plugins/jquery.fullPage.min.js"></script>
	<script type="text/javascript" src="themes.js"></script>

	<script type="text/javascript">
		var mymap = null;
		// --------------------------------
		// get ixmaps API from parent 
		// --------------------------------

		var ixmaps = null;
		if (window.opener) {
			ixmaps = window.opener.ixmaps;
		} else
		if (parent) {
			ixmaps = parent.window.ixmaps;
		} else {
			alert("error: missing parent window for themes !");
		}

		ixmaps.initialized = false;

		// don't synchronise multiple map frames
		ixmaps.setSyncMultiMaps(false);

		var nLegendDiv = 0;
		var legendA = Array(0);
		ixmaps.setLegendDiv = function(n) {
			nLegendDiv = n;
		};

		ixmaps.setLoading = function() {
			ixmaps.showLoading("... caricando ...");
		};

		// define some helper for the sidebar menu

		ixmaps.moveSectionsDown = function(nr) {
			nr = nr || 1;
			for (var i = 0; i < nr; i++) {
				setTimeout("$.fn.fullpage.moveSectionDown();", i * 100);
			}
		};

		ixmaps.moveToSection = function(nr, slide) {
			ixmaps.fMoveToSection = true;
			$.fn.fullpage.silentMoveTo(nr, slide);
		};

		ixmaps.moveSlideRight = function(nr) {
			nr = nr || 1;
			for (var i = 0; i < nr; i++) {
				setTimeout("$.fn.fullpage.moveSlideRight();", i * 100);
			}
		};

		// --------------------------------
		// p a g e 
		// --------------------------------

		// enumerate sections, slides and theme
		// and create the right id's for fullpage slide handling
		// -----------------------------------------------------
		var section = 0;
		$(".section").each(function() {
			$(this).attr("id", "section" + (++section));
			var slide = 0;
			$(this).find(".slide").each(function() {
				$(this).attr("id", "section" + section + "slide" + (++slide));
				$(this).find(".theme").each(function() {
					$(this).attr("id", "theme_" + section + "" + slide);
				});
			});
		});

		// CUSTOM SCROLL SCRIPT FUNCTION FOR NAVBAR
		$(function() {
			$('.scrollclass a').bind('click', function(event) { //just pass scrollclass in design and start scrolling
				var $anchor = $(this);
				$('html, body').stop().animate({
					scrollTop: $($anchor.attr('href')).offset().top
				}, 1000, 'easeInOutQuad');
				event.preventDefault();
			});
		});
		//ADD REMOVE PADDING CLASS ON SCROLL
		$(window).scroll(function() {
			if ($(document).scrollTop() > 40) {
				$(".navbar-fixed-top").addClass("navbar-pad-original");
			} else {
				$(".navbar-fixed-top").removeClass("navbar-pad-original");
			}
		});

		//var html = '<a href="javascript:$.fn.fullpage.moveSectionDown();"><div class="row scrollclass fp-controlArrow fp-down" style="left:' + (window.innerWidth / 2 - 33) + 'px;text-align:center;margin-top:-0.7em;margin-bottom:1em;"></div></a>';
		//$('.down').append(html);

		//var html = '<a href="javascript:$.fn.fullpage.moveSectionUp();"><div class="row scrollclass fp-controlArrow fp-up" style="left:' + (window.innerWidth / 2 - 33) + 'px;text-align:center;margin-top:-2.2em;margin-bottom:3em;margin-left:1em"></div></a>';
		//$('.up').append(html);

		var html = '<div class="row scrollclass" style="position:absolute;top:' + (window.innerHeight - 100) + 'px;left:' + (window.innerWidth - 30) + 'px;text-align:center;"><a href="javascript:$.fn.fullpage.moveSectionDown();"><span class="icon icon-arrow-down tip" data-tip="next" style="font-size:36px;color:#006688;"></span></a></div>';
		$('.down').append(html);

		var html = '<div class="row scrollclass" style="position:absolute;top:' + (18) + 'px;left:' + (window.innerWidth - 30) + 'px;text-align:center;"><a href="javascript:$.fn.fullpage.moveSectionUp();"><span class="icon icon-arrow-up tip" data-tip="next" style="font-size:36px;color:#006688;"></span></a></div>';
		$('.up').append(html);


		$(document).ready(function() {

			var __section = null;
			var __slide = null;
			var __fMoveActive = false;

			var __onChange = function() {
				console.log("trigger !!!!!!!!!!!!!!!!!!!!!!!!");
				if (!ixmaps.initialized) {
					return;
				}
				if (ixmaps.fMoveToSection) {
					ixmaps.fMoveToSection = false;
					return;
				}
				__doTheme("theme_" + __section + (__slide + 1));
			};
			$('#fullpage').fullpage({
				'scrollOverflow': true,
				'scrollOverflowOptions': {
					scrollbars: false
				},
				'verticalCentered': false,
				'css3': true,
				'sectionsColor': ['rgba(255,255,255,0.3)',
					'rgba(255,255,255,0.3)',
					'rgba(255,255,255,0.3)',
					'rgba(255,255,255,0.3)',
					'rgba(255,255,255,0.3)',
					'rgba(255,255,255,0.3)',
					'rgba(255,255,255,0.3)',
				],
				'navigation': true,
				'navigationPosition': 'right',
				'navigationTooltips': ['Incidenti', 'Analisi temporali', 'Pericolosità', 'Natura del incidente', 'Attribuzioni'],

				'afterLoad': function(a, index, c, d) {
					console.log("kjfkhfk");
					__section = index;
					__slide = 0;
					$.fn.fullpage.silentMoveTo(index, __slide);
				},
				'afterSlideLoad': function(a, index, c, d) {
					__slide = d;
					__onChange();
				},

				'onLeave': function(index, nextIndex, direction) {}
			});
			$('#fullpage').fadeIn("slow");
		});

		__doThemeOldTheme = null;
		__doThemeTimeout = null;
		__doTheme = function(szName) {
			if (szName == __doThemeOldTheme) {
				return;
			}
			__doThemeOldTheme = szName;
			if (__doThemeTimeout) {
				clearTimeout(__doThemeTimeout);
			}
			__doThemeTimeout = setTimeout("__doThemeOnTimeout('" + szName + "')", 100);
		}
		__doThemeOnTimeout = function(szName) {
			$("#" + szName).click();
			eval($("#" + szName).attr("href"));
		}

		// ------------------------------
		// set resize handler
		// ------------------------------
		$(window).resize(function() {
			// refresh scrollspy !!!
			$('[data-spy="scroll"]').each(function() {
				var $spy = $(this).scrollspy('refresh')
			});
		});


		// --------------------------------------------------------------
		// define click extension to
		// check/highlight the theme button 
		// --------------------------------------------------------------

		// array to store the clicked objects for onRemoveTheme callback
		var clickA = new Array(0);

		// store the last clicked object for onNewTheme callback
		var lastClicked = null;
		$("a").click(function() {
			if (String($(this).attr("href")).match(/newtheme/i) || String($(this).attr("href")).match(/loadProject/i)) {
				lastClicked = $(this);
			}
		});

		// -----------------------------------
		// adapt legend background to map type
		// -----------------------------------

		/**
		 * set legend background on map type change
		 * @type void
		 */
		__changeCss = function(className, classValue) {

			var cssMainContainer = $('#css-modifier-container');
			if (cssMainContainer.length == 0) {
				var cssMainContainer = $('<style id="css-modifier-container"></style>');
				cssMainContainer.appendTo($('head'));
			}
			cssMainContainer.append(className + " {" + classValue + "}\n");
		};

		ixmaps.htmlgui_setMapTypeBG = function(szId) {

			$("#css-modifier-container").remove();

			if (szId.match(/dark/i) || szId.match(/black/i)) {
				__changeCss(".story-body", "background-color:rgba(25,25,25,0.3)");
				__changeCss(".inline-legend", "background-color:rgba(25,25,25,0.7)");
				__changeCss(".title", "background-color:rgba(25,25,25,0.7)");
			} else {
				__changeCss(".body-story", "background-color:rgba(255,255,255,0.1)");
				__changeCss(".inline-legend", "background-color:rgba(255,255,255,0.5)");
				__changeCss(".title", "background-color:rgba(255,255,255,0.5)");
			}
		};

		// -----------------------------------------------
		// load themes script
		// and initialize map if all loaded
		// -----------------------------------------------

		$.when(
			$.getScript("./index.js"),
			$.getScript("./inline_legend.js"),
			$.Deferred(function(deferred) {
				$(deferred.resolve);
			})
		).done(function() {

			// ------------------------------
			// initialize map
			// ------------------------------

			ixmaps.waitForMap(null, function(map) {

				ixmaps.initialized = true;

				map.setLocalString("... processing ...", "...");
				map.setLocalString("... creating theme ...", "...");
				map.setLocalString("cleaning up ...", "");
				map.setLocalString("loading data ...", "... caricando dati ...");

				map.setView([27.52775820686191, 81.12304687500001], 3);

				mymap = map;
				//map.loadProject("../../../../../dev/rc/ixmaps/projects/Palermo/ixmaps_project_palermo_stranieri_per_cittadinanza_fiori_watercolor_III.json");

			});

		}).fail(function() {
			alert("script loading " + arguments[2].toString());
		});

	</script>


</body>

</html>
